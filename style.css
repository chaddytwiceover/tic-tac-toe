/* /style.css - Brutalist/Functionalist Design */
/* 
  Tic Tac Toe - Brutalist Design Philosophy
  Principles: Emergent aesthetics, exposed structure, dense information,
  explicit interactions, engineered for perception, timeless design.
*/
:root{
  /* Base Colors - Stone palette */
  --stone-950:#0c0a09;
  --stone-900:#1c1917;
  --stone-800:#292524;
  --stone-700:#44403c;
  --stone-600:#57534e;
  --stone-100:#f5f5f4;
  --stone-200:#e7e5e4;
  --stone-300:#d6d3d1;
  
  /* Accent Colors - Teal (muted zest) */
  --teal-400:#2dd4bf;
  --teal-300:#5eead4;
  --teal-500:#14b8a6;
  
  /* Accent Colors - Amber (highlights) */
  --amber-500:#f59e0b;
  --amber-400:#fbbf24;
  --amber-600:#d97706;
  
  /* Semantic Colors */
  --bg-primary:var(--stone-950);
  --bg-secondary:var(--stone-900);
  --bg-tertiary:var(--stone-800);
  --text-primary:var(--stone-100);
  --text-secondary:var(--stone-200);
  --text-muted:var(--stone-300);
  --border-primary:var(--stone-800);
  --border-secondary:var(--stone-700);
  --accent-primary:var(--teal-400);
  --accent-secondary:var(--amber-500);
  
  /* Spacing - 8px grid system (exposed structure) */
  --space-1:0.25rem; /* 4px */
  --space-2:0.5rem;  /* 8px */
  --space-3:0.75rem; /* 12px */
  --space-4:1rem;    /* 16px */
  --space-5:1.25rem; /* 20px */
  --space-6:1.5rem;  /* 24px */
  --space-8:2rem;    /* 32px */
  --space-10:2.5rem; /* 40px */
  --space-12:3rem;   /* 48px */
  
  /* No border radius - brutalist aesthetic */
  --radius-none:0;
  
  /* Minimal shadows - flat design */
  --shadow-hard:2px 2px 0 rgba(0,0,0,.5);
  --shadow-text:1px 1px 0 rgba(0,0,0,.8);
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

html,body{
  height:100%;
}

body{
  /* System fonts for clarity and performance */
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  color:var(--text-primary);
  background:var(--bg-primary);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100vh;
  padding:var(--space-4);
  line-height:1.5;
  overflow-y:auto;
  /* Exposed grid structure */
  background-image:
    repeating-linear-gradient(0deg,transparent,transparent 7px,var(--stone-900) 7px,var(--stone-900) 8px),
    repeating-linear-gradient(90deg,transparent,transparent 7px,var(--stone-900) 7px,var(--stone-900) 8px);
  background-size:8px 8px;
}

.container{
  max-width:1200px;
  width:100%;
  margin:0 auto;
  background:var(--bg-secondary);
  border:3px solid var(--border-primary);
  padding:var(--space-6);
  /* Exposed structure - visible construction */
  box-shadow:var(--shadow-hard);
  position:relative;
}

/* Expose grid structure on container */
.container::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:3px;
  background:var(--accent-primary);
}

main {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-8);
  margin-top: var(--space-6);
}

.game-area {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.sidebar {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:var(--space-4);
  flex-wrap:wrap;
  padding-bottom:var(--space-4);
  border-bottom:3px solid var(--border-primary);
}

.brand h1{
  /* System font, explicit, no decorative effects */
  font-family:inherit;
  color:var(--text-primary);
  font-size:clamp(1.5rem,4vw,2rem);
  font-weight:700;
  text-align:left;
  margin-bottom:var(--space-2);
  letter-spacing:-0.02em;
  text-transform:uppercase;
  /* Exposed structure */
  border-left:4px solid var(--accent-primary);
  padding-left:var(--space-3);
}

.brand p{
  color:var(--text-muted);
  font-size:clamp(0.875rem,2vw,1rem);
  text-align:left;
  font-weight:400;
  padding-left:var(--space-3);
}

.brand .version{
  color:var(--accent-secondary);
  font-weight:700;
  background:var(--bg-tertiary);
  padding:var(--space-1) var(--space-2);
  border:2px solid var(--amber-600);
  display:inline-block;
  margin-left:var(--space-2);
}

.back-link{
  color:var(--text-primary);
  text-decoration:none;
  font-size:0.875rem;
  padding:var(--space-2) var(--space-4);
  background:var(--bg-tertiary);
  border:2px solid var(--border-primary);
  transition:all .15s ease;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:0.05em;
}

.back-link:hover{
  background:var(--accent-primary);
  color:var(--bg-primary);
  border-color:var(--accent-primary);
  box-shadow:var(--shadow-hard);
}

.controls{
  display:grid;
  grid-template-columns:1fr;
  gap:var(--space-6);
  padding:var(--space-6);
  background:var(--bg-tertiary);
  border:3px solid var(--border-primary);
  box-shadow:var(--shadow-hard);
}

.difficulty-selector{
  display:flex;
  flex-direction:column;
  gap:var(--space-3);
}

.difficulty-label{
  color:var(--accent-secondary);
  font-size:0.75rem;
  font-weight:700;
  letter-spacing:0.1em;
  text-transform:uppercase;
  background:var(--bg-secondary);
  padding:var(--space-2) var(--space-3);
  border:2px solid var(--border-primary);
  border-left:4px solid var(--accent-secondary);
}

.radio-group{
  display:flex;
  align-items:center;
  width:100%;
  justify-content:flex-start;
  margin-bottom:var(--space-2);
}

.radio-group input[type="radio"]{
  opacity:0;
  position:absolute;
  width:0;
  height:0;
}

.radio-group label{
  background:var(--bg-secondary);
  color:var(--text-primary);
  padding:var(--space-3) var(--space-5);
  border:2px solid var(--border-primary);
  cursor:pointer;
  transition:all .1s ease;
  font-weight:600;
  font-size:0.875rem;
  letter-spacing:0.05em;
  text-transform:uppercase;
  flex:1;
  text-align:center;
}

.radio-group label:hover{
  background:var(--bg-primary);
  border-color:var(--accent-primary);
}

.radio-group input[type="radio"]:checked + label{
  background:var(--accent-primary);
  color:var(--bg-primary);
  border-color:var(--accent-primary);
  font-weight:700;
  box-shadow:var(--shadow-hard);
}

.radio-group input[type="radio"]:focus-visible + label{
  outline:3px solid var(--accent-secondary);
  outline-offset:2px;
}

.scoreboard{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:var(--space-4);
  padding:var(--space-6);
  background:var(--bg-tertiary);
  border:3px solid var(--border-primary);
  box-shadow:var(--shadow-hard);
}

.chip{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:var(--space-2);
  padding:var(--space-4);
  border:2px solid var(--border-primary);
  background:var(--bg-secondary);
  position:relative;
}

/* Exposed structure - show grid alignment */
.chip::after{
  content:'';
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:3px;
  background:var(--border-primary);
}

.chip:hover{
  background:var(--bg-primary);
  border-color:var(--accent-primary);
}

.score-label{
  color:var(--text-muted);
  font-size:0.75rem;
  font-weight:700;
  letter-spacing:0.1em;
  text-transform:uppercase;
}

.score-value{
  font-weight:700;
  color:var(--accent-primary);
  font-size:2rem;
  line-height:1;
  font-family:'Courier New',monospace;
  text-shadow:var(--shadow-text);
}

.board-wrapper{
  position:relative;
  width:100%;
  max-width:600px;
  margin:0 auto;
  aspect-ratio:1/1;
  padding:var(--space-6);
  background:var(--bg-tertiary);
  border:4px solid var(--border-primary);
  box-shadow:var(--shadow-hard);
  /* Expose grid structure */
  background-image:
    repeating-linear-gradient(0deg,transparent,transparent calc(33.333% - 2px),var(--border-primary) calc(33.333% - 2px),var(--border-primary) calc(33.333%)),
    repeating-linear-gradient(90deg,transparent,transparent calc(33.333% - 2px),var(--border-primary) calc(33.333% - 2px),var(--border-primary) calc(33.333%));
}

.board{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,1fr);
  gap:var(--space-3);
  width:100%;
  height:100%;
  position:relative;
  z-index:1;
}

/* Game cells - brutalist, explicit */
.cell{
  appearance:none;
  -webkit-appearance:none;
  border:3px solid var(--border-primary);
  background:var(--bg-secondary);
  cursor:pointer;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Courier New',monospace;
  font-size:clamp(2rem,8vw,4rem);
  font-weight:700;
  transition:all .1s ease;
  color:var(--text-primary);
  user-select:none;
  position:relative;
}

/* Show cell indices for explicit information */
.cell::before{
  content:attr(data-index);
  position:absolute;
  top:2px;
  left:4px;
  font-size:0.625rem;
  color:var(--stone-600);
  font-weight:400;
}

.cell:not(.x):not(.o):hover{
  background:var(--bg-primary);
  border-color:var(--accent-primary);
  box-shadow:var(--shadow-hard);
}

.cell:focus-visible{
  outline:3px solid var(--accent-secondary);
  outline-offset:2px;
}

.cell.clicked{
  animation:none; /* No decorative animations */
}

.cell.x{
  color:var(--accent-primary);
  background:var(--bg-primary);
  border-color:var(--accent-primary);
  text-shadow:var(--shadow-text);
}

.cell.o{
  color:var(--accent-secondary);
  background:var(--bg-primary);
  border-color:var(--accent-secondary);
  text-shadow:var(--shadow-text);
}

.winning-line{
  position:absolute;
  background-color:var(--accent-primary);
  height:4px;
  display:none;
  z-index:10;
  pointer-events:none;
  box-shadow:var(--shadow-hard);
}
.winning-line.show{display:block}
.winning-line.o-win{background-color:var(--accent-secondary)}
.winning-line.x-win{background-color:var(--accent-primary)}

/* Horizontal lines (rows) */
.winning-line.win-0{
  top:calc(16.67% - 2px);left:0;width:100%;height:4px;
}
.winning-line.win-1{
  top:calc(50% - 2px);left:0;width:100%;height:4px;
}
.winning-line.win-2{
  top:calc(83.33% - 2px);left:0;width:100%;height:4px;
}

/* Vertical lines (columns) */
.winning-line.win-3{
  left:calc(16.67% - 2px);top:0;width:4px;height:100%;
}
.winning-line.win-4{
  left:calc(50% - 2px);top:0;width:4px;height:100%;
}
.winning-line.win-5{
  left:calc(83.33% - 2px);top:0;width:4px;height:100%;
}

/* Diagonal lines */
.winning-line.win-6{
  width:calc(100% * 1.414);height:4px;top:50%;left:50%;
  transform:translateX(-50%) translateY(-50%) rotate(45deg);
}
.winning-line.win-7{
  width:calc(100% * 1.414);height:4px;top:50%;left:50%;
  transform:translateX(-50%) translateY(-50%) rotate(-45deg);
}

.status-display{
  margin-top:var(--space-6);
  font-size:clamp(1rem,2.5vw,1.125rem);
  color:var(--text-primary);
  min-height:3rem;
  letter-spacing:0.02em;
  font-weight:600;
  padding:var(--space-4);
  background:var(--bg-tertiary);
  border:3px solid var(--border-primary);
  border-left:6px solid var(--accent-primary);
  display:flex;
  align-items:center;
  justify-content:flex-start;
  text-transform:uppercase;
  font-size:0.875rem;
  box-shadow:var(--shadow-hard);
}

.status-display.win{
  border-left-color:var(--accent-primary);
  background:var(--bg-primary);
  color:var(--accent-primary);
}

.status-display.draw{
  border-left-color:var(--accent-secondary);
  background:var(--bg-primary);
  color:var(--accent-secondary);
}

.actions{
  display:flex;
  gap:var(--space-4);
  justify-content:flex-start;
  flex-wrap:wrap;
}

.action-button{
  font-family:inherit;
  font-weight:700;
  font-size:0.875rem;
  border:0;
  padding:var(--space-4) var(--space-6);
  cursor:pointer;
  transition:all .1s ease;
  text-transform:uppercase;
  letter-spacing:0.05em;
  position:relative;
  flex:1;
  min-width:140px;
}

.action-button.primary{
  background:var(--accent-primary);
  color:var(--bg-primary);
  border:3px solid var(--accent-primary);
  box-shadow:var(--shadow-hard);
}

.action-button.primary:hover{
  background:var(--teal-300);
  border-color:var(--teal-300);
}

.action-button.primary:active{
  box-shadow:none;
  transform:translate(2px,2px);
}

.action-button.secondary{
  background:var(--bg-tertiary);
  color:var(--text-primary);
  border:3px solid var(--border-primary);
}

.action-button.secondary:hover{
  background:var(--accent-secondary);
  color:var(--bg-primary);
  border-color:var(--accent-secondary);
  box-shadow:var(--shadow-hard);
}

.action-button.secondary:active{
  box-shadow:none;
  transform:translate(2px,2px);
}

.action-button:focus-visible{
  outline:3px solid var(--accent-secondary);
  outline-offset:2px;
}

/* Responsive Design */
@media (min-width: 768px) {
  .container {
    max-width: 1200px;
  }
  main {
    grid-template-columns: 1fr 400px;
    gap: var(--space-8);
  }
  .controls{
    grid-template-columns:1fr 1fr;
  }
}

@media (max-width:767px){
  .container{padding:var(--space-4)}
  .controls{grid-template-columns:1fr}
  .scoreboard{grid-template-columns:1fr;gap:var(--space-3)}
  .actions{flex-direction:column}
  .action-button{min-width:100%}
  .board-wrapper{
    max-width:100%;
    padding:var(--space-4);
  }
}

@media (max-width:480px){
  body{padding:var(--space-2);font-size:0.875rem}
  .container{padding:var(--space-3);border-width:2px}
  .brand h1{font-size:1.25rem}
  .brand p{font-size:0.75rem}
  .board-wrapper{padding:var(--space-3);border-width:3px}
  .board{gap:var(--space-2)}
  .cell{font-size:clamp(1.5rem,10vw,3rem);border-width:2px}
  .winning-line{height:3px}
  .winning-line.win-3,.winning-line.win-4,.winning-line.win-5{width:3px}
}

/* Reduced motion preference - respect user's system settings */
@media (prefers-reduced-motion:reduce){
  *,*::before,*::after{
    animation-duration:.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast:high){
  :root{
    --border-primary:var(--stone-100);
    --accent-primary:var(--teal-300);
    --accent-secondary:var(--amber-400);
  }
}

/* Print styles */
@media print{
  body{background:white;color:black}
  .container{
    background:white;
    color:black;
    border:2px solid black;
    box-shadow:none;
  }
  .actions,.back-link{display:none}
}

